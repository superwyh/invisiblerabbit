<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Invisible Rabbit - 游戏工作室</title>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container" id="app">
        <div class="search-interface" v-cloak>
            <!-- Logo -->
            <div class="logo-container">
                <img src="images/logo.png" alt="Invisible Rabbit Logo" class="logo">
            </div>

            <!-- 搜索框 -->
            <div class="search-box-container">
                <input 
                    type="text" 
                    class="search-input" 
                    v-model="searchQuery"
                    @input="handleSearch"
                    @keydown.enter="selectFirstResult"
                    autocomplete="off"
                    autofocus
                >
            </div>

            <!-- Modal弹窗 -->
            <div class="modal-overlay" v-if="showModal" @click="closeModal">
                <div class="modal-content" @click.stop>
                    <p class="modal-message">{{ modalMessage }}</p>
                    <button class="modal-close" @click="closeModal">我知道了</button>
                </div>
            </div>

            <!-- 详情展示 -->
            <div class="detail-view" v-if="selectedResult">
                <div class="detail-content">
                    <div class="detail-header">
                        <h1 class="detail-title">{{ selectedResult.name }}</h1>
                        <p class="detail-subtitle" v-if="selectedResult.enName">{{ selectedResult.enName }}</p>
                    </div>

                    <div class="game-banner-container" v-if="selectedResult.banner">
                        <img :src="selectedResult.banner" :alt="selectedResult.name" class="game-banner">
                    </div>

                    <div class="detail-body">
                        <!-- 简单内容（如工作室介绍、久等了等） -->
                        <div v-if="selectedResult.content" v-html="selectedResult.content"></div>

                        <!-- 游戏详情（包含description） -->
                        <div v-if="selectedResult.description">
                            <div class="game-description" v-html="selectedResult.description"></div>

                            <div 
                                class="awards-section" 
                                v-for="(awardGroup, idx) in selectedResult.awards" 
                                :key="`award-${selectedResult.id}-${idx}`"
                                v-if="selectedResult.awards && selectedResult.awards.length > 0"
                            >
                                <div class="award-text">
                                    <div class="award-item">
                                        <div class="award-header" v-if="awardGroup.organizer || awardGroup.event">
                                            <span v-if="awardGroup.organizer">{{ awardGroup.organizer }}</span>
                                            <template v-if="awardGroup.organizer && awardGroup.event"> - </template>
                                            <span v-if="awardGroup.event">{{ awardGroup.event }}</span>
                                        </div>
                                        <div class="award-list">
                                            <span class="award award-gold" v-for="award in awardGroup.items" :key="award">{{ award }}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="award-media">
                                    <img src="images/获奖.jpg" alt="获奖荣誉">
                                </div>
                            </div>

                            <div class="detail-actions" v-if="selectedResult.steamUrl">
                                <a :href="selectedResult.steamUrl" class="steam-button" target="_blank">
                                    <i class="fab fa-steam"></i>
                                    在 Steam 上获取
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@3.4.38/dist/vue.global.prod.js"></script>
    <script src="script.js"></script>
</body>

</html>